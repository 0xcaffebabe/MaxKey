<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.connsec.dao.persistence.UserTypeMapper">
	<sql id="where_statement">
		<if test="id != null and id != ''">
			AND id  =  #{id}
		</if>
		<if test="name != null and name != ''">
			AND NAME  LIKE  '%${name}%'
		</if>
	</sql>
	
	<insert id="insert" parameterType="UserType">
		INSERT INTO USERTYPE(
			ID,
			NAME,
			SORTORDER,
			DESCRIPTION,
			STATUS
			
		)VALUES(
			#{id},
			#{name},
			#{sortOrder},
			#{description},
			#{status}
		)
	</insert>
	
	<update id="update" parameterType="UserType" >
    	UPDATE USERTYPE SET
    		NAME			=	#{name},
    		SORTORDER		=	#{sortOrder},
			DESCRIPTION		=	#{description},
			STATUS			=	#{status}
			
		WHERE 
			ID	=	#{id}
    </update>
    
     <select id="query" parameterType="UserType" resultType="UserType">
		SELECT
			*
		FROM
			USERTYPE
		WHERE
			STATUS	=	3
		<include refid="where_statement"/>
		ORDER BY SORTORDER 
	</select>
	
	<select id="load" parameterType="UserType" resultType="UserType">
    	SELECT 
			*
    	FROM 
    		USERTYPE 
    	WHERE 	
    		STATUS	!=	9
    		<include refid="where_statement"/>
    </select>
    
   <select id="get" parameterType="string" resultType="UserType">
    	SELECT 
			*
    	FROM 
    		USERTYPE 
    	WHERE 	
    		ID	=	#{value}
    		AND STATUS	!=	9
    </select>
     
    <select id="grid" parameterType="UserType" resultType="UserType">
		SELECT
			*
		FROM
			USERTYPE
		WHERE
			STATUS	!=	9
		<include refid="where_statement"/>
		ORDER BY SORTORDER 
	</select>
	
	<select id="count" parameterType="UserType" resultType="java.lang.Integer">
		SELECT
			COUNT(*) 
		FROM
			USERTYPE
		WHERE
			 STATUS	!=	9
		<include refid="where_statement"/>
		
	</select>
	
	<delete id="remove" parameterType="string" >
    	DELETE FROM USERTYPE WHERE ID=#{value}
    </delete>
</mapper>